{"name":"Thinkfan-sh","tagline":"simple fan control script for thinkpad","google":"","note":"Don't delete this file! It's used internally to help with page regeneration.","body":"thinkfan-sh\r\n===========\r\n\r\nsimple fan control script for thinkpad\r\n\r\n## License ###\r\n\r\nthinkfan-sh is released under the MIT Public License\r\n\r\n## Description ##\r\n\r\n``thinkfan.sh`` is just a very simple shell script that handles fan speed \r\non thinkpad computers under GNU/Linux using ``/proc/acpi/ibm/fan`` and ``/proc/acpi/ibm/thermal``.\r\n\r\n## Disclaimer ##\r\n\r\nThis script plays around your fan speed, so it could be a dangerous for your computer. Use it carefully.\r\n\r\nA nice visible temperature widget might be a good idea. \r\n\r\nSome tuning might also be good.\r\n\r\n## Using the script ##\r\n\r\n### Installation and configuration ###\r\n\r\nAs root:\r\n```shell\r\ncurl https://raw.github.com/kakwa/thinkfan-sh/master/thinkfan.sh -o /usr/local/bin/thinkfan.sh\r\nvim /usr/local/bin/thinkfan.sh #edit some parameters to your taste\r\nchmod 700 /usr/local/bin/thinkfan.sh\r\n/usr/local/bin/thinkfan.sh\r\n```\r\n\r\nOn some distros you may need to add ``thinkpad_acpi.fan_control=1`` to your kernel comand line \r\n(hint, look at ``/boot/grub/grub.cfg``).\r\n\r\n### Making it start on boot ###\r\n\r\n* On (Debian & RedHat/Centos): add ``/usr/local/bin/thinkfan.sh &`` \r\ninside ``/etc/rc.local`` (Debian & RedHat/Centos).\r\n* On Gentoo: ``ln -s /usr/local/bin/thinkfan.sh /etc/local.d/thinkfan.start`` should do the trick.\r\n\r\n## Principle ##\r\n\r\nThis script has three \"fan states\": \r\n\r\n* ``low (1)``: lowest fan speed\r\n* ``mid (2)``: mid fan speed\r\n* ``high (3)``: highest fan speed \r\n\r\nIt also has four \"temperature thresholds\":\r\n\r\n* ``LIMIT_1_UP``: temperature where it switches from 1 to 2 while going up\r\n* ``LIMIT_1_DOWN``: temperature where it switches from 2 to 1 while going down\r\n* ``LIMIT_2_UP``: temperature where it switches from 2 to 3 while going up\r\n* ``LIMIT_2_DOWN``: temperature where it switches from 3 to 2 while going down\r\n\r\nIt works like that:\r\n\r\n* Let say you start at low (1)\r\n* your computer heats up, the temperature will go over ``LIMIT_1_UP``\r\n* the new state is set to mid (2)\r\n* it will remain at mid (2) for a while (unless it goes over ``LIMIT_2_UP``)\r\n* the temperature goes under \"LIMIT_1_DOWN\" (which is lower than ``LIMIT_1_UP``)\r\n* the state comes back to low (1)\r\n\r\n``LIMIT_1_UP`` is greater than ``LIMIT_1_DOWN`` in order to prevent the fan to switch every second from low to mid.\r\n\r\nThe same principal is used to switch between mid (2) and high (3) with ``LIMIT_2_UP`` and ``LIMIT_2_DOWN``.\r\n\r\n## Tuning the script ##\r\n\r\nThere are several things you can tun inside this script.\r\n\r\nThe temperature thresholds in Celsius degree:\r\n\r\n* ``LIMIT_1_UP``\r\n* ``LIMIT_1_DOWN``\r\n* ``LIMIT_2_UP``\r\n* ``LIMIT_2_DOWN`` \r\n\r\nNote that ``LIMIT_N_DOWN`` must lower than ``LIMIT_N_UP``.\r\n\r\nThe different fan speeds:\r\n* ``STATE_1_LEVEL``\r\n* ``STATE_2_LEVEL``\r\n* ``STATE_3_LEVEL``\r\n\r\nThe value is an integer between 0 (fan disabled) and 7 (fan at max speed). \r\n\r\nNote that there could be less than 8 speeds ( 4 and 5 could mean the same speed for example).\r\n\r\nThe default values are those used on my thinkpad T60 (the hotter one), I can set ``STATE_1_LEVEL`` \r\nto 0 on my thinkpad x60.\r\n\r\n------------------------\r\nHope it helps to make your thinkpad a little quieter.\r\n"}